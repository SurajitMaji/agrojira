{% extends 'systemAdminBase.html'%}

{% load static %}
{% block title%}
Crops
{% endblock title%}
  
{% block head %}

<link rel="stylesheet" type="text/css" href="{% static 'css/admin/cropDetailsAddForm.css' %}">
{% endblock head %}

{% block adminBody %}
<div class="form-container">
    <h2>Add Seed Information</h2>
    <form method="POST" action="{% if crop_id %}{% url 'adminAddSeed' crop_id %}{% else %}{% url 'adminAddSeed' %}{% endif %}" enctype="multipart/form-data">
        {% csrf_token %}

        <label>Select Crop:</label>
        <select name="admin_crop" id="admin_crop" required>
            <option value="">Select a crop</option>
{% for crop in crops %}
    <option value="{{ crop.crop_id }}" {% if crop.crop_id == crop_id %}selected{% endif %}>
        {{ crop.crop_name }}
    </option>
{% endfor %}
        </select>

        <label>Variety:</label>
        <input type="text" name="variety" required>

        <label>Rate per Area:</label>
        <input type="text" name="rate_per_area" required>

        <label>Source:</label>
        <input type="text" name="source" required>

        <label>Germination Percentage:</label>
        <input type="number" step="0.01" name="germination_percentage" required>

        <label>Purity Percentage:</label>
        <input type="number" step="0.01" name="purity_percentage" required>

        <label>Moisture Content:</label>
        <input type="number" step="0.01" name="moisture_content" required>

        <label>Equipments:</label>
        <input type="text" name="equipments" required>

        <label>Seed Image:</label>
        <input type="file" name="seed_image" accept="image/*" onchange="previewSeedImage(event)" required>
        <figure>
            <img id="seedPreview" src="#" alt="Image Preview" style="display:none; max-width:100%; height:auto; margin-top:10px;">
            <figcaption>Seed Image Preview</figcaption>
        </figure>

        <label>Description:</label>
        <textarea name="description" rows="4" required></textarea>

        <button type="submit">Submit</button>
    </form>
</div>

{% endblock adminBody %}
{% block javaScript%}
<script src="{% static 'js/admin/formImagePreview.js' %}"></script>
{% endblock javaScript%}
    

