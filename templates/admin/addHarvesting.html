{% extends 'systemAdminBase.html'%}

{% load static %}
{% block title%}
Crops
{% endblock title%}
  
{% block head %}

<link rel="stylesheet" type="text/css" href="{% static 'css/admin/cropDetailsAddForm.css' %}">
{% endblock head %}

{% block adminBody %}
<div class="form-container">
    <h2>Harvesting Information</h2>
    <form method="POST" action="{% if crop_id %}{% url 'adminAddHarvesting' crop_id %}{% else %}{% url 'adminAddHarvesting' %}{% endif %}" enctype="multipart/form-data">
        {% csrf_token %}
        <label>Select Crop:</label>
        <select name="admin_crop" required>
            <option value="">--Select Crop--</option>
            {% for crop in crops %}
            <option value="{{ crop.crop_id }}" {% if crop.crop_id == crop_id %}selected{% endif %}>{{ crop.crop_name }}</option>
            {% endfor %}
        </select>

        <label>Time:</label><input type="text" name="time" required>
        <label>Drying:</label><textarea name="drying" required></textarea>
        <label>Storage:</label><textarea name="storage" required></textarea>
        <label>Optimal Harvesting Period:</label><input type="text" name="optimal_harvesting_period" required>
        <label>Method of Harvesting:</label><input type="text" name="method_of_harvesting" required>
        <label>Equipments:</label><textarea name="equipments" required></textarea>
        <label>Labor Requirement:</label><input type="text" name="labor_requirement" required>
        <label>Yield Quantity:</label><input type="text" name="yield_quantity" required>
        <label>Moisture Content:</label><input type="text" name="moisture_content" required>
        <label>Post Harvesting Handling:</label><textarea name="post_harvesting_handling" required></textarea>
        <label>Transportation Requirement:</label><textarea name="transportation_requirement" required></textarea>
        <label>Challenges:</label><textarea name="challenges" required></textarea>
        <label>Crop Loss Percentage:</label><input type="number" step="0.01" name="crop_loss_percentage" required>
        <label>Market Readiness:</label><textarea name="market_readiness" required></textarea>
        <label>Safety Practice:</label><textarea name="safty_practice" required></textarea>

        <label>Harvesting Image:</label>
        <input type="file" name="harvesting_image" accept="image/*" onchange="previewImage(event)">
        <img id="preview" src="#" alt="Image Preview" style="display:none;">

        <label>Description:</label>
        <textarea name="description" required></textarea>

        <input type="submit" value="Submit">
    </form>
</div>
{% endblock adminBody %}
{% block javaScript%}
<script src="{% static 'js/admin/formImagePreview.js' %}"></script>
{% endblock javaScript%}
    

